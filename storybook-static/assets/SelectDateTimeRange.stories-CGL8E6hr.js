import{j as t}from"./jsx-runtime-Nms4Y4qS.js";import{r as f}from"./index-BwDkhjyp.js";import{P as I,a as Y,B as A,C as L,b as W,c as B}from"./popover-Bs5IZc--.js";import{d as c,t as F}from"./timezone-C_aROZb4.js";import{T,I as v}from"./SelectDateTime-nTe2lsrt.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-Drt3gf4w.js";c.extend(F);const j=new Date(1900,0,1),y=new Date(2199,11,31),R=({range:e,quickOptions:n,showTimezone:i,onSelect:o})=>{var g,l;const[D,r]=f.useState(e==null?void 0:e.from);return t.jsxs(t.Fragment,{children:[n!=null&&n.length?t.jsxs("div",{className:"my-2",children:[t.jsx("div",{className:"text-sm mb-1 font-medium",children:"Quick Options"}),t.jsx("div",{className:"flex gap-3 flex-wrap",children:n.map((a,s)=>{var m,k;return t.jsx("div",{className:`text-xs sm:text-sm font-medium cursor-pointer ${(e==null?void 0:e.from)===((m=a.range)==null?void 0:m.from)&&(e==null?void 0:e.to)===((k=a.range)==null?void 0:k.to)?"text-gray-600":"text-gray-400 hover:text-gray-500"}`,onClick:()=>o(a.range),children:a.label},s)})})]}):null,t.jsx("div",{className:"mt-2 mb-4",children:t.jsx(B,{mode:"range",month:D,onMonthChange:r,selected:e,onSelect:o,numberOfMonths:2,captionLayout:"dropdown",startMonth:j,endMonth:y,hidden:{before:j,after:y},required:!1})}),t.jsxs("div",{className:"flex gap-4 mb-2",children:[t.jsx("div",{className:"w-1/2",children:t.jsx(T,{label:"From Date & Time",children:t.jsx(v,{type:"datetime-local",className:"cursor-text px-2.5 sm:px-3.5 w-[168px] sm:w-[194px] text-xs sm:text-sm",value:(e==null?void 0:e.from)??{}?c(e==null?void 0:e.from).format("YYYY-MM-DDTHH:mm"):"",onChange:a=>{const s=c(a.target.value).toDate();r(s),o({from:s,to:e!=null&&e.to&&s>e.to?s:e==null?void 0:e.to})},onClick:a=>a.preventDefault(),onFocus:a=>a.preventDefault()})})}),t.jsx("div",{className:"w-1/2",children:t.jsx(T,{label:"To Date & Time",children:t.jsx(v,{type:"datetime-local",className:"cursor-text px-2.5 sm:px-3.5 w-[168px] sm:w-[194px] text-xs sm:text-sm",value:(e==null?void 0:e.to)??""?c(e==null?void 0:e.to).format("YYYY-MM-DDTHH:mm"):"",onChange:a=>{const s=c(a.target.value).toDate();r(s),o({to:s,from:e!=null&&e.from&&s<e.from?s:e==null?void 0:e.from})},onClick:a=>a.preventDefault(),onFocus:a=>a.preventDefault()})})})]}),i&&t.jsxs("div",{className:"text-xs text-gray-600 flex justify-end mb-2",children:["Time Zone: ",(l=(g=c)==null?void 0:g.tz)==null?void 0:l.guess()]})]})},_=({initialRange:e,quickOptions:n,showTimezone:i,onSelect:o,align:D="start"})=>{const[r,g]=f.useState(!1),l=m=>{r||s(e),g(m===void 0?!r:m)},[a,s]=f.useState(e);return t.jsxs(I,{open:r,onOpenChange:l,children:[t.jsx(Y,{asChild:!0,children:t.jsx(A,{className:"px-2",variant:e?"default":"outline",children:t.jsx(L,{})})}),t.jsxs(W,{align:D,className:"p-3 pt-1 w-fit",children:[t.jsx(R,{range:a,quickOptions:n,showTimezone:i,onSelect:s}),t.jsx("div",{className:"flex mt-4",children:t.jsx("button",{onClick:()=>{o(a??{from:void 0}),l(!1)},className:"py-2 w-full bg-primary text-white rounded-md",children:"Done"})})]})]})},E=_;R.__docgenInfo={description:"",methods:[],displayName:"PickDateTimeRange",props:{range:{required:!1,tsType:{name:"WrappedDateRange"},description:""},quickOptions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; range: DateRange }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"range",value:{name:"WrappedDateRange",required:!0}}]}}],raw:"Array<{ label: string; range: DateRange }>"},description:""},showTimezone:{required:!1,tsType:{name:"boolean"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(range: DateRange | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"DateRange | undefined",elements:[{name:"WrappedDateRange"},{name:"undefined"}]},name:"range"}],return:{name:"void"}}},description:""}}};_.__docgenInfo={description:"",methods:[],displayName:"SelectDateTimeRange",props:{align:{required:!1,tsType:{name:"union",raw:'"center" | "start" | "end"',elements:[{name:"literal",value:'"center"'},{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"start"',computed:!1}},initialRange:{required:!1,tsType:{name:"WrappedDateRange"},description:""}}};const J={title:"Components/SelectDateTimeRange",component:E,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"Select a range of dates, with times"}}}},h=e=>{const[n,i]=f.useState();return e.render==="picker"?t.jsx(R,{range:n,quickOptions:e.quickOptions,onSelect:i}):t.jsx(E,{initialRange:n,align:e.align,quickOptions:e.quickOptions,onSelect:i})},x=new Date().valueOf(),p=h.bind({}),d=h.bind({}),u=h.bind({});p.args={align:"start",quickOptions:[]};d.args={align:"start",quickOptions:[{label:"Last Week",range:{from:x-864e5*7,to:x}},{label:"Last 30 Days",range:{from:x-864e5*30,to:x}}]};u.args={render:"picker"};var S,q,O;p.parameters={...p.parameters,docs:{...(S=p.parameters)==null?void 0:S.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args.render === "picker" ? <PickDateTimeRange range={range} quickOptions={args.quickOptions} onSelect={setRange} /> : <SelectDateTimeRange initialRange={range} align={args.align} quickOptions={args.quickOptions} onSelect={setRange} />;
}`,...(O=(q=p.parameters)==null?void 0:q.docs)==null?void 0:O.source}}};var b,w,N;d.parameters={...d.parameters,docs:{...(b=d.parameters)==null?void 0:b.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args.render === "picker" ? <PickDateTimeRange range={range} quickOptions={args.quickOptions} onSelect={setRange} /> : <SelectDateTimeRange initialRange={range} align={args.align} quickOptions={args.quickOptions} onSelect={setRange} />;
}`,...(N=(w=d.parameters)==null?void 0:w.docs)==null?void 0:N.source}}};var C,P,M;u.parameters={...u.parameters,docs:{...(C=u.parameters)==null?void 0:C.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args.render === "picker" ? <PickDateTimeRange range={range} quickOptions={args.quickOptions} onSelect={setRange} /> : <SelectDateTimeRange initialRange={range} align={args.align} quickOptions={args.quickOptions} onSelect={setRange} />;
}`,...(M=(P=u.parameters)==null?void 0:P.docs)==null?void 0:M.source}}};const K=["Basic","QuickOptions","Picker"];export{p as Basic,u as Picker,d as QuickOptions,K as __namedExportsOrder,J as default};
