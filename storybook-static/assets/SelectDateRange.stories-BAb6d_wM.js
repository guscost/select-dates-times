import{j as t}from"./jsx-runtime-Nms4Y4qS.js";import{r as h}from"./index-BwDkhjyp.js";import{a as L,b as Q,B as F,C as V,c as W,D as z,Q as $,d as G,e as w,I,f as S}from"./SelectDate-B5qRgoN4.js";import{d as r}from"./dayjs.min-BIwLhz4I.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-Drt3gf4w.js";const v=new Date(1900,0,1),O=new Date(2199,11,31),k=({range:e,quickOptions:n,showInputs:l,onSelect:i})=>{const[D,o]=h.useState(e==null?void 0:e.from);function p(a){if(a.preventDefault(),!e){const s=r().startOf("day").toDate(),c=r(s).subtract(7,"days").toDate();i({from:c,to:s})}}return t.jsxs(t.Fragment,{children:[n!=null&&n.length?t.jsxs("div",{className:"my-2",children:[t.jsx("div",{className:"text-sm mb-1 font-medium",children:"Quick Options"}),t.jsx("div",{className:"flex gap-3 flex-wrap",children:n.map((a,s)=>{var c,u;return t.jsx($,{label:a.label,isSelected:(e==null?void 0:e.from)===((c=a.range)==null?void 0:c.from)&&(e==null?void 0:e.to)===((u=a.range)==null?void 0:u.to),onSelect:()=>{i(a.range),o(a.range.from)}},s)})})]}):null,t.jsx("div",{className:"mt-2 mb-4",children:t.jsx(G,{mode:"range",month:D,onMonthChange:o,selected:e,onSelect:i,numberOfMonths:2,captionLayout:"dropdown",startMonth:v,endMonth:O,hidden:{before:v,after:O},required:!1})}),l&&t.jsxs("div",{className:"flex gap-4 mb-2",children:[t.jsx("div",{className:"w-1/2",children:t.jsx(w,{label:"From Date",children:t.jsx(I,{type:"date",tabIndex:0,className:S("cursor-text px-3 sm:px-4 w-[100px] sm:w-[120px] text-xs sm:text-sm",!(e!=null&&e.from)&&"text-transparent"),value:e!=null&&e.from?r(e==null?void 0:e.from).format("YYYY-MM-DD"):"",onChange:a=>{const s=r(a.target.value).toDate();r(s).isValid()&&(o(s),i({from:s,to:e!=null&&e.to&&s>e.to?s:e==null?void 0:e.to}))},onClick:p,onFocus:p})})}),t.jsx("div",{className:"w-1/2",children:t.jsx(w,{label:"To Date",children:t.jsx(I,{type:"date",tabIndex:0,className:S("cursor-text px-3 sm:px-4 w-[100px] sm:w-[120px] text-xs sm:text-sm",!(e!=null&&e.to)&&"text-transparent"),value:e!=null&&e.to?r(e==null?void 0:e.to).format("YYYY-MM-DD"):"",onChange:a=>{const s=r(a.target.value).toDate();r(s).isValid()&&(o(s),i({to:s,from:e!=null&&e.from&&s<e.from?s:e==null?void 0:e.from}))},onClick:p,onFocus:p})})})]})]})},A=({initialRange:e,align:n="start",quickOptions:l,showInputs:i,onSelect:D})=>{const[o,p]=h.useState(!1),a=u=>{o||c(e),p(u===void 0?!o:u)},[s,c]=h.useState(e);return t.jsxs(L,{open:o,onOpenChange:a,children:[t.jsx(Q,{asChild:!0,children:t.jsx(F,{className:"px-2",variant:e?"default":"outline",children:t.jsx(V,{})})}),t.jsxs(W,{align:n,className:"p-3 pt-1 w-fit",children:[t.jsx(k,{range:s,quickOptions:l,showInputs:i,onSelect:c}),t.jsx("div",{className:"flex mt-4",children:t.jsx(z,{onClick:()=>{D(s??{from:void 0}),a(!1)}})})]})]})},B=A;k.__docgenInfo={description:"",methods:[],displayName:"PickDateRange",props:{range:{required:!1,tsType:{name:"InnerDateRange"},description:""},quickOptions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; range: DateRange }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"range",value:{name:"InnerDateRange",required:!0}}]}}],raw:"Array<{ label: string; range: DateRange }>"},description:""},showInputs:{required:!1,tsType:{name:"boolean"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(range: DateRange | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"DateRange | undefined",elements:[{name:"InnerDateRange"},{name:"undefined"}]},name:"range"}],return:{name:"void"}}},description:""}}};A.__docgenInfo={description:"",methods:[],displayName:"SelectDateRange",props:{initialRange:{required:!1,tsType:{name:"InnerDateRange"},description:""},align:{required:!1,tsType:{name:"union",raw:'"center" | "start" | "end"',elements:[{name:"literal",value:'"center"'},{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"start"',computed:!1}}}};const ee={title:"Components/SelectDateRange",component:B,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"Select a range of dates"}}}},R=e=>{const[n,l]=h.useState();return e.render==="picker"?t.jsx(k,{range:n,quickOptions:e.quickOptions,showInputs:e.showInputs,onSelect:l}):t.jsx(B,{initialRange:n,align:e.align,quickOptions:e.quickOptions,showInputs:e.showInputs,onSelect:l})},x=new Date().valueOf(),d=R.bind({}),m=R.bind({}),g=R.bind({}),f=R.bind({});d.args={align:"start",quickOptions:[]};m.args={align:"start",quickOptions:[{label:"Last Week",range:{from:x-864e5*7,to:x}},{label:"Last 30 Days",range:{from:x-864e5*30,to:x}}]};g.args={showInputs:!0};f.args={render:"picker"};var j,q,b;d.parameters={...d.parameters,docs:{...(j=d.parameters)==null?void 0:j.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateRange range={range} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} /> : <SelectDateRange initialRange={range} align={args.align} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} />;
}`,...(b=(q=d.parameters)==null?void 0:q.docs)==null?void 0:b.source}}};var y,N,T;m.parameters={...m.parameters,docs:{...(y=m.parameters)==null?void 0:y.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateRange range={range} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} /> : <SelectDateRange initialRange={range} align={args.align} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} />;
}`,...(T=(N=m.parameters)==null?void 0:N.docs)==null?void 0:T.source}}};var C,P,M;g.parameters={...g.parameters,docs:{...(C=g.parameters)==null?void 0:C.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateRange range={range} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} /> : <SelectDateRange initialRange={range} align={args.align} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} />;
}`,...(M=(P=g.parameters)==null?void 0:P.docs)==null?void 0:M.source}}};var _,E,Y;f.parameters={...f.parameters,docs:{...(_=f.parameters)==null?void 0:_.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateRange range={range} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} /> : <SelectDateRange initialRange={range} align={args.align} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} />;
}`,...(Y=(E=f.parameters)==null?void 0:E.docs)==null?void 0:Y.source}}};const te=["Basic","QuickOptions","WithInputs","Picker"];export{d as Basic,f as Picker,m as QuickOptions,g as WithInputs,te as __namedExportsOrder,ee as default};
