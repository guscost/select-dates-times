import{j as e}from"./jsx-runtime-Nms4Y4qS.js";import{r as T}from"./index-BwDkhjyp.js";import{a as A,b as M,B as I,C as B,c as L,D as Q,Q as V,d as Y,E as j,L as v,e as F,I as R,f as H,g as w}from"./SelectDate-mlJzUR5E.js";import{d as m}from"./dayjs.min-BIwLhz4I.js";import{t as U}from"./timezone-BZc9ZB5V.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-Drt3gf4w.js";m.extend(U);const D=({timestamp:t,quickOptions:a,numberOfMonths:o,showTimezone:f,required:x=!1,onSelect:i})=>{var l,c;const[h,n]=T.useState(t);function g(s){if(!t){const r=m().toDate();i(r)}}return e.jsxs(e.Fragment,{children:[a!=null&&a.length?e.jsxs("div",{className:"my-2",children:[e.jsx("div",{className:"text-sm mb-1 font-medium",children:"Quick Options"}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:a.map((s,r)=>e.jsx(V,{label:s.label,isSelected:t===s.timestamp,onSelect:()=>{i(s.timestamp),n(s.timestamp)}},r))})]}):null,e.jsx("div",{className:"mt-2 mb-4",children:e.jsx(Y,{mode:"single",month:h,onMonthChange:n,selected:t,onSelect:s=>{i(s),n(s)},numberOfMonths:o||1,captionLayout:"dropdown",startMonth:j,endMonth:v,hidden:{before:j,after:v},required:x})}),e.jsx("div",{className:"flex gap-4 mb-2",children:e.jsx("div",{className:"w-full",children:e.jsx(F,{label:"Date & Time",children:e.jsx(R,{type:"datetime-local",className:H("cursor-text px-2 sm:px-3 w-[168px] sm:w-[194px] text-xs sm:text-sm",!t&&"text-transparent"),value:t?m(t).format("YYYY-MM-DDTHH:mm"):"",onChange:s=>{const r=m(s.target.value).toDate();m(r).isValid()&&(n(r),i(r))},onMouseDown:g,onFocus:w,onClick:w})})})}),f&&e.jsxs("div",{className:"text-xs text-gray-600 flex justify-end mb-2",children:["Time Zone: ",(c=(l=m)==null?void 0:l.tz)==null?void 0:c.guess()]})]})},k=({initialTimestamp:t,align:a="start",quickOptions:o,showTimezone:f,onSelect:x})=>{const[i,h]=T.useState(!1),[n,g]=T.useState(t),l=c=>{i||g(t),h(c===void 0?!i:c)};return e.jsxs(A,{open:i,onOpenChange:l,children:[e.jsx(M,{asChild:!0,children:e.jsx(I,{className:"px-2",variant:t?"default":"outline",children:e.jsx(B,{})})}),e.jsxs(L,{align:a,className:"p-3 pt-1 w-fit",children:[e.jsx(D,{timestamp:n,quickOptions:o,showTimezone:f,onSelect:g}),e.jsx("div",{className:"flex mt-4",children:e.jsx(Q,{onClick:()=>{x(n),l(!1)}})})]})]})};D.__docgenInfo={description:"",methods:[],displayName:"PickDateTime",props:{timestamp:{required:!1,tsType:{name:"Date"},description:""},quickOptions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; timestamp: Date }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"timestamp",value:{name:"Date",required:!0}}]}}],raw:"Array<{ label: string; timestamp: Date }>"},description:""},numberOfMonths:{required:!1,tsType:{name:"union",raw:"1 | 2",elements:[{name:"literal",value:"1"},{name:"literal",value:"2"}]},description:""},showTimezone:{required:!1,tsType:{name:"boolean"},description:""},required:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(datetime: Date | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]},name:"datetime"}],return:{name:"void"}}},description:""}}};k.__docgenInfo={description:"",methods:[],displayName:"SelectDateTime",props:{initialTimestamp:{required:!1,tsType:{name:"Date"},description:""},align:{required:!1,tsType:{name:"union",raw:'"center" | "start" | "end"',elements:[{name:"literal",value:'"center"'},{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"start"',computed:!1}}}};const ee={title:"Components/SelectDateTime",component:k,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"Select a date with time"}}}},S=t=>{const[a,o]=T.useState();return t.render==="picker"?e.jsx(D,{timestamp:a,quickOptions:t.quickOptions,onSelect:o}):e.jsx(k,{initialTimestamp:a,align:t.align,quickOptions:t.quickOptions,showTimezone:t.showTimezone,onSelect:o})},y=new Date().valueOf(),p=S.bind({}),d=S.bind({}),u=S.bind({});p.args={align:"start",quickOptions:[]};d.args={align:"start",quickOptions:[{label:"7 Days Ago",timestamp:y-864e5*7},{label:"30 Days Ago",timestamp:y-864e5*30}],showTimezone:!1};u.args={render:"picker"};var q,O,b;p.parameters={...p.parameters,docs:{...(q=p.parameters)==null?void 0:q.docs,source:{originalSource:`args => {
  const [timestamp, setTimestamp] = useState<Date>();
  return args["render"] === "picker" ? <PickDateTime timestamp={timestamp} quickOptions={args.quickOptions} onSelect={setTimestamp} /> : <SelectDateTime initialTimestamp={timestamp} align={args.align} quickOptions={args.quickOptions} showTimezone={args.showTimezone} onSelect={setTimestamp} />;
}`,...(b=(O=p.parameters)==null?void 0:O.docs)==null?void 0:b.source}}};var N,z,E;d.parameters={...d.parameters,docs:{...(N=d.parameters)==null?void 0:N.docs,source:{originalSource:`args => {
  const [timestamp, setTimestamp] = useState<Date>();
  return args["render"] === "picker" ? <PickDateTime timestamp={timestamp} quickOptions={args.quickOptions} onSelect={setTimestamp} /> : <SelectDateTime initialTimestamp={timestamp} align={args.align} quickOptions={args.quickOptions} showTimezone={args.showTimezone} onSelect={setTimestamp} />;
}`,...(E=(z=d.parameters)==null?void 0:z.docs)==null?void 0:E.source}}};var P,C,_;u.parameters={...u.parameters,docs:{...(P=u.parameters)==null?void 0:P.docs,source:{originalSource:`args => {
  const [timestamp, setTimestamp] = useState<Date>();
  return args["render"] === "picker" ? <PickDateTime timestamp={timestamp} quickOptions={args.quickOptions} onSelect={setTimestamp} /> : <SelectDateTime initialTimestamp={timestamp} align={args.align} quickOptions={args.quickOptions} showTimezone={args.showTimezone} onSelect={setTimestamp} />;
}`,...(_=(C=u.parameters)==null?void 0:C.docs)==null?void 0:_.source}}};const te=["Basic","QuickOptions","Picker"];export{p as Basic,u as Picker,d as QuickOptions,te as __namedExportsOrder,ee as default};
