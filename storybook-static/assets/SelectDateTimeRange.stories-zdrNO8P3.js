import{j as t}from"./jsx-runtime-Nms4Y4qS.js";import{r as D}from"./index-BwDkhjyp.js";import{a as A,b as L,B as W,C as z,c as B,d as F,e as v,I as j,f as y}from"./SelectDate-DamFgs5f.js";import{d as n}from"./dayjs.min-BIwLhz4I.js";import{t as H}from"./timezone-BZc9ZB5V.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-Drt3gf4w.js";n.extend(H);const S=new Date(1900,0,1),b=new Date(2199,11,31),h=({range:e,quickOptions:i,showTimezone:c,onSelect:o})=>{var m,d;const[R,r]=D.useState(e==null?void 0:e.from);function l(a){if(a.preventDefault(),!e){const s=n().toDate(),f=n(s).subtract(7,"days").toDate();o({from:f,to:s})}}return t.jsxs(t.Fragment,{children:[i!=null&&i.length?t.jsxs("div",{className:"my-2",children:[t.jsx("div",{className:"text-sm mb-1 font-medium",children:"Quick Options"}),t.jsx("div",{className:"flex gap-3 flex-wrap",children:i.map((a,s)=>{var f,T;return t.jsx("div",{className:`text-xs sm:text-sm font-medium cursor-pointer ${(e==null?void 0:e.from)===((f=a.range)==null?void 0:f.from)&&(e==null?void 0:e.to)===((T=a.range)==null?void 0:T.to)?"text-gray-600":"text-gray-400 hover:text-gray-500"}`,onClick:()=>{o(a.range),r(a.range.from)},children:a.label},s)})})]}):null,t.jsx("div",{className:"mt-2 mb-4",children:t.jsx(F,{mode:"range",month:R,onMonthChange:r,selected:e,onSelect:o,numberOfMonths:2,captionLayout:"dropdown",startMonth:S,endMonth:b,hidden:{before:S,after:b},required:!1})}),t.jsxs("div",{className:"flex gap-4 mb-2",children:[t.jsx("div",{className:"w-1/2",children:t.jsx(v,{label:"From Date & Time",children:t.jsx(j,{type:"datetime-local",className:y("cursor-text px-3 sm:px-4 w-[168px] sm:w-[194px] text-xs sm:text-sm",!(e!=null&&e.from)&&"text-transparent"),value:e!=null&&e.from?n(e==null?void 0:e.from).format("YYYY-MM-DDTHH:mm"):"",onChange:a=>{const s=n(a.target.value).toDate();n(s).isValid()&&(r(s),o({from:s,to:e!=null&&e.to&&s>e.to?s:e==null?void 0:e.to}))},onClick:l,onFocus:l})})}),t.jsx("div",{className:"w-1/2",children:t.jsx(v,{label:"To Date & Time",children:t.jsx(j,{type:"datetime-local",className:y("cursor-text px-3 sm:px-4 w-[168px] sm:w-[194px] text-xs sm:text-sm",!(e!=null&&e.to)&&"text-transparent"),value:e!=null&&e.to?n(e==null?void 0:e.to).format("YYYY-MM-DDTHH:mm"):"",onChange:a=>{const s=n(a.target.value).toDate();n(s).isValid()&&(r(s),o({to:s,from:e!=null&&e.from&&s<e.from?s:e==null?void 0:e.from}))},onClick:l,onFocus:l})})})]}),c&&t.jsxs("div",{className:"text-xs text-gray-600 flex justify-end mb-2",children:["Time Zone: ",(d=(m=n)==null?void 0:m.tz)==null?void 0:d.guess()]})]})},I=({initialRange:e,align:i="start",quickOptions:c,showTimezone:o,onSelect:R})=>{const[r,l]=D.useState(!1),m=s=>{r||a(e),l(s===void 0?!r:s)},[d,a]=D.useState(e);return t.jsxs(A,{open:r,onOpenChange:m,children:[t.jsx(L,{asChild:!0,children:t.jsx(W,{className:"px-2",variant:e?"default":"outline",children:t.jsx(z,{})})}),t.jsxs(B,{align:i,className:"p-3 pt-1 w-fit",children:[t.jsx(h,{range:d,quickOptions:c,showTimezone:o,onSelect:a}),t.jsx("div",{className:"flex mt-4",children:t.jsx("button",{onClick:()=>{R(d??{from:void 0}),m(!1)},className:"py-2 w-full bg-primary text-white rounded-md",children:"Done"})})]})]})},Y=I;h.__docgenInfo={description:"",methods:[],displayName:"PickDateTimeRange",props:{range:{required:!1,tsType:{name:"WrappedDateRange"},description:""},quickOptions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; range: DateRange }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"range",value:{name:"WrappedDateRange",required:!0}}]}}],raw:"Array<{ label: string; range: DateRange }>"},description:""},showTimezone:{required:!1,tsType:{name:"boolean"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(range: DateRange | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"DateRange | undefined",elements:[{name:"WrappedDateRange"},{name:"undefined"}]},name:"range"}],return:{name:"void"}}},description:""}}};I.__docgenInfo={description:"",methods:[],displayName:"SelectDateTimeRange",props:{initialRange:{required:!1,tsType:{name:"WrappedDateRange"},description:""},align:{required:!1,tsType:{name:"union",raw:'"center" | "start" | "end"',elements:[{name:"literal",value:'"center"'},{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"start"',computed:!1}}}};const U={title:"Components/SelectDateTimeRange",component:Y,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"Select a range of dates, with times"}}}},k=e=>{const[i,c]=D.useState();return e.render==="picker"?t.jsx(h,{range:i,quickOptions:e.quickOptions,onSelect:c}):t.jsx(Y,{initialRange:i,align:e.align,quickOptions:e.quickOptions,onSelect:c})},g=new Date().valueOf(),p=k.bind({}),u=k.bind({}),x=k.bind({});p.args={align:"start",quickOptions:[]};u.args={align:"start",quickOptions:[{label:"Last Week",range:{from:g-864e5*7,to:g}},{label:"Last 30 Days",range:{from:g-864e5*30,to:g}}]};x.args={render:"picker"};var q,O,w;p.parameters={...p.parameters,docs:{...(q=p.parameters)==null?void 0:q.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateTimeRange range={range} quickOptions={args.quickOptions} onSelect={setRange} /> : <SelectDateTimeRange initialRange={range} align={args.align} quickOptions={args.quickOptions} onSelect={setRange} />;
}`,...(w=(O=p.parameters)==null?void 0:O.docs)==null?void 0:w.source}}};var N,C,P;u.parameters={...u.parameters,docs:{...(N=u.parameters)==null?void 0:N.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateTimeRange range={range} quickOptions={args.quickOptions} onSelect={setRange} /> : <SelectDateTimeRange initialRange={range} align={args.align} quickOptions={args.quickOptions} onSelect={setRange} />;
}`,...(P=(C=u.parameters)==null?void 0:C.docs)==null?void 0:P.source}}};var M,_,E;x.parameters={...x.parameters,docs:{...(M=x.parameters)==null?void 0:M.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateTimeRange range={range} quickOptions={args.quickOptions} onSelect={setRange} /> : <SelectDateTimeRange initialRange={range} align={args.align} quickOptions={args.quickOptions} onSelect={setRange} />;
}`,...(E=(_=x.parameters)==null?void 0:_.docs)==null?void 0:E.source}}};const X=["Basic","QuickOptions","Picker"];export{p as Basic,x as Picker,u as QuickOptions,X as __namedExportsOrder,U as default};
