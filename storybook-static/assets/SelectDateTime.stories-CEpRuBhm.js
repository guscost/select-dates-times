import{j as e}from"./jsx-runtime-Nms4Y4qS.js";import{r as u}from"./index-BwDkhjyp.js";import{P as w,a as b,B as N,C as S,b as q,d as k}from"./popover-BAHgloZz.js";import{d as o,t as C}from"./timezone-C_aROZb4.js";import{I as O}from"./input-DIWZWVu2.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-Drt3gf4w.js";o.extend(C);const x=new Date(1900,0,1),f=new Date(2199,11,31),v=({timestamp:t,quickOptions:s,numberOfMonths:r,showTimezone:d,required:c=!1,onSelect:n})=>{var i,l;return e.jsxs(e.Fragment,{children:[s!=null&&s.length?e.jsxs("div",{className:"mt-2 mb-4",children:[e.jsx("div",{className:"text-sm mb-1 font-medium",children:"Quick Options"}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:s.map((a,p)=>e.jsx("div",{className:`text-xs sm:text-sm font-medium cursor-pointer ${t?"text-gray-600":"text-gray-400 hover:text-gray-500"}`,onClick:()=>n(a.timestamp),children:a.label},p))})]}):null,e.jsx("div",{className:"mb-4",children:e.jsx(k,{mode:"single",defaultMonth:t,selected:t,onSelect:n,numberOfMonths:r||1,captionLayout:"dropdown",startMonth:x,endMonth:f,hidden:{before:x,after:f},required:c})}),e.jsx("div",{className:"flex gap-4 mb-2",children:e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block font-medium pb-1 text-sm",children:"Date & Time"}),e.jsx("div",{className:"flex align-center gap-1",children:e.jsx(O,{type:"datetime-local",className:"cursor-text px-2.5 sm:px-3.5 w-[168px] sm:w-[194px] text-xs sm:text-sm",value:t?o(t).format("YYYY-MM-DDTHH:mm"):"",onChange:a=>n(o(a.target.value).toDate()),onClick:a=>a.preventDefault(),onFocus:a=>a.preventDefault()})})]})}),d&&e.jsxs("div",{className:"text-xs text-gray-600 flex justify-end mb-2",children:["Time Zone: ",(l=(i=o)==null?void 0:i.tz)==null?void 0:l.guess()]})]})},y=({initialTimestamp:t,quickOptions:s,showTimezone:r,onSelect:d,align:c="start"})=>{const[n,i]=u.useState(!1),[l,a]=u.useState(t),p=z=>{i(!n)};return e.jsxs(w,{open:n,onOpenChange:()=>p(),children:[e.jsx(b,{asChild:!0,children:e.jsx(N,{className:"px-2",variant:t?"default":"outline",children:e.jsx(S,{})})}),e.jsxs(q,{align:c,className:"p-3 pt-1 w-fit",children:[e.jsx(v,{timestamp:l,quickOptions:s,showTimezone:r,onSelect:a}),e.jsx("div",{className:"flex mt-4",children:e.jsx("button",{onClick:()=>{i(!1),d(l)},className:"py-2 w-full bg-primary text-white rounded-md",children:"Done"})})]})]})},j=y;v.__docgenInfo={description:"",methods:[],displayName:"PickDateTime",props:{timestamp:{required:!1,tsType:{name:"Date"},description:""},quickOptions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; timestamp: Date }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"timestamp",value:{name:"Date",required:!0}}]}}],raw:"Array<{ label: string; timestamp: Date }>"},description:""},numberOfMonths:{required:!1,tsType:{name:"union",raw:"1 | 2",elements:[{name:"literal",value:"1"},{name:"literal",value:"2"}]},description:""},showTimezone:{required:!1,tsType:{name:"boolean"},description:""},required:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(datetime: Date | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]},name:"datetime"}],return:{name:"void"}}},description:""}}};y.__docgenInfo={description:"",methods:[],displayName:"SelectDateTime",props:{align:{required:!1,tsType:{name:"union",raw:'"center" | "start" | "end"',elements:[{name:"literal",value:'"center"'},{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"start"',computed:!1}},initialTimestamp:{required:!1,tsType:{name:"Date"},description:""}}};const B={title:"Components/SelectDateTime",component:j,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"Picker to select or filter a date with time"}}}},_=t=>{const[s,r]=u.useState();return e.jsx(j,{initialTimestamp:s,align:t.align,quickOptions:t.quickOptions,showTimezone:t.showTimezone,onSelect:r})},m=_.bind({}),g=new Date().valueOf();m.args={align:"start",quickOptions:[{label:"7 Days Ago",timestamp:g-864e5*7},{label:"30 Days Ago",timestamp:g-864e5*30}],showTimezone:!1};var h,T,D;m.parameters={...m.parameters,docs:{...(h=m.parameters)==null?void 0:h.docs,source:{originalSource:`args => {
  const [timestamp, setTimestamp] = useState<Date>();
  return <SelectDateTime initialTimestamp={timestamp} align={args.align} quickOptions={args.quickOptions} showTimezone={args.showTimezone} onSelect={setTimestamp} />;
}`,...(D=(T=m.parameters)==null?void 0:T.docs)==null?void 0:D.source}}};const F=["Default"];export{m as Default,F as __namedExportsOrder,B as default};
