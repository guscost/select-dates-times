import{j as t}from"./jsx-runtime-Nms4Y4qS.js";import{r as h}from"./index-BwDkhjyp.js";import{a as L,b as B,B as F,C as Q,c as $,d as z,e as w,I,f as S}from"./SelectDate-GNDbaWzh.js";import{d as p}from"./dayjs.min-BIwLhz4I.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-Drt3gf4w.js";const v=new Date(1900,0,1),y=new Date(2199,11,31),k=({range:e,quickOptions:n,showInputs:c,onSelect:o})=>{const[D,r]=h.useState(e==null?void 0:e.from);function l(a){if(a.preventDefault(),!e){const s=p().startOf("day").toDate(),i=p(s).subtract(7,"days").toDate();o({from:i,to:s})}}return t.jsxs(t.Fragment,{children:[n!=null&&n.length?t.jsxs("div",{className:"my-2",children:[t.jsx("div",{className:"text-sm mb-1 font-medium",children:"Quick Options"}),t.jsx("div",{className:"flex gap-3 flex-wrap",children:n.map((a,s)=>{var i,u;return t.jsx("div",{className:`text-xs sm:text-sm font-medium cursor-pointer ${(e==null?void 0:e.from)===((i=a.range)==null?void 0:i.from)&&(e==null?void 0:e.to)===((u=a.range)==null?void 0:u.to)?"text-gray-600":"text-gray-400 hover:text-gray-500"}`,onClick:()=>{o(a.range),r(a.range.from)},children:a.label},s)})})]}):null,t.jsx("div",{className:"mt-2 mb-4",children:t.jsx(z,{mode:"range",month:D,onMonthChange:r,selected:e,onSelect:o,numberOfMonths:2,captionLayout:"dropdown",startMonth:v,endMonth:y,hidden:{before:v,after:y},required:!1})}),c&&t.jsxs("div",{className:"flex gap-4 mb-2",children:[t.jsx("div",{className:"w-1/2",children:t.jsx(w,{label:"From Date",children:t.jsx(I,{type:"date",className:S("cursor-text px-3 sm:px-4 w-[100px] sm:w-[120px] text-xs sm:text-sm",!(e!=null&&e.from)&&"text-transparent"),value:e!=null&&e.from?p(e==null?void 0:e.from).format("YYYY-MM-DD"):"",onChange:a=>{const s=p(a.target.value).toDate();r(s),o({from:s,to:e!=null&&e.to&&s>e.to?s:e==null?void 0:e.to})},onClick:l,onFocus:l})})}),t.jsx("div",{className:"w-1/2",children:t.jsx(w,{label:"To Date",children:t.jsx(I,{type:"date",className:S("cursor-text px-3 sm:px-4 w-[100px] sm:w-[120px] text-xs sm:text-sm",!(e!=null&&e.to)&&"text-transparent"),value:e!=null&&e.to?p(e==null?void 0:e.to).format("YYYY-MM-DD"):"",onChange:a=>{const s=p(a.target.value).toDate();r(s),o({to:s,from:e!=null&&e.from&&s<e.from?s:e==null?void 0:e.from})},onClick:l,onFocus:l})})})]})]})},W=({initialRange:e,align:n="start",quickOptions:c,showInputs:o,onSelect:D})=>{const[r,l]=h.useState(!1),a=u=>{r||i(e),l(u===void 0?!r:u)},[s,i]=h.useState(e);return t.jsxs(L,{open:r,onOpenChange:a,children:[t.jsx(B,{asChild:!0,children:t.jsx(F,{className:"px-2",variant:e?"default":"outline",children:t.jsx(Q,{})})}),t.jsxs($,{align:n,className:"p-3 pt-1 w-fit",children:[t.jsx(k,{range:s,quickOptions:c,showInputs:o,onSelect:i}),t.jsx("div",{className:"flex mt-4",children:t.jsx("button",{onClick:()=>{D(s??{from:void 0}),a(!1)},className:"py-2 w-full bg-primary text-white rounded-md",children:"Done"})})]})]})},A=W;k.__docgenInfo={description:"",methods:[],displayName:"PickDateRange",props:{range:{required:!1,tsType:{name:"WrappedDateRange"},description:""},quickOptions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; range: DateRange }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"range",value:{name:"WrappedDateRange",required:!0}}]}}],raw:"Array<{ label: string; range: DateRange }>"},description:""},showInputs:{required:!1,tsType:{name:"boolean"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(range: DateRange | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"DateRange | undefined",elements:[{name:"WrappedDateRange"},{name:"undefined"}]},name:"range"}],return:{name:"void"}}},description:""}}};W.__docgenInfo={description:"",methods:[],displayName:"SelectDateRange",props:{initialRange:{required:!1,tsType:{name:"WrappedDateRange"},description:""},align:{required:!1,tsType:{name:"union",raw:'"center" | "start" | "end"',elements:[{name:"literal",value:'"center"'},{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"start"',computed:!1}}}};const X={title:"Components/SelectDateRange",component:A,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"Select a range of dates"}}}},R=e=>{const[n,c]=h.useState();return e.render==="picker"?t.jsx(k,{range:n,quickOptions:e.quickOptions,showInputs:e.showInputs,onSelect:c}):t.jsx(A,{initialRange:n,align:e.align,quickOptions:e.quickOptions,showInputs:e.showInputs,onSelect:c})},f=new Date().valueOf(),d=R.bind({}),m=R.bind({}),g=R.bind({}),x=R.bind({});d.args={align:"start",quickOptions:[]};m.args={align:"start",quickOptions:[{label:"Last Week",range:{from:f-864e5*7,to:f}},{label:"Last 30 Days",range:{from:f-864e5*30,to:f}}]};g.args={showInputs:!0};x.args={render:"picker"};var j,O,q;d.parameters={...d.parameters,docs:{...(j=d.parameters)==null?void 0:j.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateRange range={range} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} /> : <SelectDateRange initialRange={range} align={args.align} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} />;
}`,...(q=(O=d.parameters)==null?void 0:O.docs)==null?void 0:q.source}}};var b,N,C;m.parameters={...m.parameters,docs:{...(b=m.parameters)==null?void 0:b.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateRange range={range} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} /> : <SelectDateRange initialRange={range} align={args.align} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} />;
}`,...(C=(N=m.parameters)==null?void 0:N.docs)==null?void 0:C.source}}};var T,P,M;g.parameters={...g.parameters,docs:{...(T=g.parameters)==null?void 0:T.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateRange range={range} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} /> : <SelectDateRange initialRange={range} align={args.align} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} />;
}`,...(M=(P=g.parameters)==null?void 0:P.docs)==null?void 0:M.source}}};var _,E,Y;x.parameters={...x.parameters,docs:{...(_=x.parameters)==null?void 0:_.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateRange range={range} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} /> : <SelectDateRange initialRange={range} align={args.align} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} />;
}`,...(Y=(E=x.parameters)==null?void 0:E.docs)==null?void 0:Y.source}}};const Z=["Basic","QuickOptions","WithInputs","Picker"];export{d as Basic,x as Picker,m as QuickOptions,g as WithInputs,Z as __namedExportsOrder,X as default};
