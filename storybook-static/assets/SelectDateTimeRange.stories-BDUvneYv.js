import{j as t}from"./jsx-runtime-Nms4Y4qS.js";import{r as x}from"./index-BwDkhjyp.js";import{P as N,a as S,B as C,C as k,b as q,c as O}from"./popover-E2miQ8a_.js";import{d as r,t as _}from"./timezone-C_aROZb4.js";import{T as D,I as h}from"./SelectDateTime-DwICa_1k.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-Drt3gf4w.js";r.extend(_);const v=new Date(1900,0,1),T=new Date(2199,11,31),R=({range:e,quickOptions:o,showTimezone:i,onSelect:n})=>{var c,l;return t.jsxs(t.Fragment,{children:[o!=null&&o.length?t.jsxs("div",{className:"mt-2 mb-4",children:[t.jsx("div",{className:"text-sm mb-1 font-medium",children:"Quick Options"}),t.jsx("div",{className:"flex gap-3 flex-wrap",children:o.map((s,a)=>{var d,p;return t.jsx("div",{className:`text-xs sm:text-sm font-medium cursor-pointer ${(e==null?void 0:e.from)===((d=s.range)==null?void 0:d.from)&&(e==null?void 0:e.to)===((p=s.range)==null?void 0:p.to)?"text-gray-600":"text-gray-400 hover:text-gray-500"}`,onClick:()=>n(s.range),children:s.label},a)})})]}):null,t.jsx("div",{className:"mb-4",children:t.jsx(O,{mode:"range",defaultMonth:e==null?void 0:e.from,selected:e,onSelect:n,numberOfMonths:2,captionLayout:"dropdown",startMonth:v,endMonth:T,hidden:{before:v,after:T},required:!1})}),t.jsxs("div",{className:"flex gap-4 mb-2",children:[t.jsx("div",{className:"w-1/2",children:t.jsx(D,{label:"From Date & Time",children:t.jsx(h,{type:"datetime-local",className:"cursor-text px-2.5 sm:px-3.5 w-[168px] sm:w-[194px] text-xs sm:text-sm",value:(e==null?void 0:e.from)??{}?r(e==null?void 0:e.from).format("YYYY-MM-DDTHH:mm"):"",onChange:s=>{const a=r(s.target.value).toDate();n({from:a,to:e!=null&&e.to&&a>e.to?a:e==null?void 0:e.to})},onClick:s=>s.preventDefault(),onFocus:s=>s.preventDefault()})})}),t.jsx("div",{className:"w-1/2",children:t.jsx(D,{label:"To Date & Time",children:t.jsx(h,{type:"datetime-local",className:"cursor-text px-2.5 sm:px-3.5 w-[168px] sm:w-[194px] text-xs sm:text-sm",value:(e==null?void 0:e.to)??""?r(e==null?void 0:e.to).format("YYYY-MM-DDTHH:mm"):"",onChange:s=>{const a=r(s.target.value).toDate();n({to:a,from:e!=null&&e.from&&a<e.from?a:e==null?void 0:e.from})},onClick:s=>s.preventDefault(),onFocus:s=>s.preventDefault()})})})]}),i&&t.jsxs("div",{className:"text-xs text-gray-600 flex justify-end mb-2",children:["Time Zone: ",(l=(c=r)==null?void 0:c.tz)==null?void 0:l.guess()]})]})},g=({initialRange:e,quickOptions:o,showTimezone:i,onSelect:n,align:c="start"})=>{const[l,s]=x.useState(!1),a=f=>{s(f===void 0?!l:f)},[d,p]=x.useState(e);return t.jsxs(N,{open:l,onOpenChange:()=>a(),children:[t.jsx(S,{asChild:!0,children:t.jsx(C,{className:"px-2",variant:e?"default":"outline",children:t.jsx(k,{})})}),t.jsxs(q,{align:c,className:"p-3 pt-1 w-fit",children:[t.jsx(R,{range:e,quickOptions:o,showTimezone:i,onSelect:p}),t.jsx("div",{className:"flex mt-4",children:t.jsx("button",{onClick:()=>{a(!1),n(d??{from:void 0})},className:"py-2 w-full bg-primary text-white rounded-md",children:"Done"})})]})]})},b=g;R.__docgenInfo={description:"",methods:[],displayName:"PickDateTimeRange",props:{range:{required:!1,tsType:{name:"WrappedDateRange"},description:""},quickOptions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; range: DateRange }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"range",value:{name:"WrappedDateRange",required:!0}}]}}],raw:"Array<{ label: string; range: DateRange }>"},description:""},showTimezone:{required:!1,tsType:{name:"boolean"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(range: DateRange | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"DateRange | undefined",elements:[{name:"WrappedDateRange"},{name:"undefined"}]},name:"range"}],return:{name:"void"}}},description:""}}};g.__docgenInfo={description:"",methods:[],displayName:"SelectDateTimeRange",props:{align:{required:!1,tsType:{name:"union",raw:'"center" | "start" | "end"',elements:[{name:"literal",value:'"center"'},{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"start"',computed:!1}},initialRange:{required:!1,tsType:{name:"WrappedDateRange"},description:""}}};const W={title:"Components/SelectDateTimeRange",component:b,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"Picker to select or filter a range of dates, with times"}}}},z=e=>{const[o,i]=x.useState();return t.jsx(b,{initialRange:o,align:e.align,quickOptions:e.quickOptions,showTimezone:e.showTimezone,onSelect:i})},m=z.bind({}),u=new Date().valueOf();m.args={align:"start",quickOptions:[{label:"Last Week",range:{from:u-864e5*7,to:u}},{label:"Last 30 Days",range:{from:u-864e5*30,to:u}}],showTimezone:!1};var j,y,w;m.parameters={...m.parameters,docs:{...(j=m.parameters)==null?void 0:j.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return <SelectDateTimeRange initialRange={range} align={args.align} quickOptions={args.quickOptions} showTimezone={args.showTimezone} onSelect={setRange} />;
}`,...(w=(y=m.parameters)==null?void 0:y.docs)==null?void 0:w.source}}};const F=["Default"];export{m as Default,F as __namedExportsOrder,W as default};
