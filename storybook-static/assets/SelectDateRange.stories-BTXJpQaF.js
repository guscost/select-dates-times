import{j as t}from"./jsx-runtime-Nms4Y4qS.js";import{r as h}from"./index-BwDkhjyp.js";import{a as L,b as B,B as F,C as Q,c as $,d as z,e as w,I,f as S}from"./SelectDate-GNDbaWzh.js";import{d as l}from"./dayjs.min-BIwLhz4I.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-Drt3gf4w.js";const v=new Date(1900,0,1),y=new Date(2199,11,31),k=({range:e,quickOptions:n,showInputs:i,onSelect:o})=>{const[D,r]=h.useState(e==null?void 0:e.from);function c(s){s.preventDefault(),e||o({from:l().startOf("day").subtract(7,"days").toDate(),to:l().startOf("day").toDate()})}return t.jsxs(t.Fragment,{children:[n!=null&&n.length?t.jsxs("div",{className:"my-2",children:[t.jsx("div",{className:"text-sm mb-1 font-medium",children:"Quick Options"}),t.jsx("div",{className:"flex gap-3 flex-wrap",children:n.map((s,a)=>{var p,u;return t.jsx("div",{className:`text-xs sm:text-sm font-medium cursor-pointer ${(e==null?void 0:e.from)===((p=s.range)==null?void 0:p.from)&&(e==null?void 0:e.to)===((u=s.range)==null?void 0:u.to)?"text-gray-600":"text-gray-400 hover:text-gray-500"}`,onClick:()=>{o(s.range),r(s.range.from)},children:s.label},a)})})]}):null,t.jsx("div",{className:"mt-2 mb-4",children:t.jsx(z,{mode:"range",month:D,onMonthChange:r,selected:e,onSelect:o,numberOfMonths:2,captionLayout:"dropdown",startMonth:v,endMonth:y,hidden:{before:v,after:y},required:!1})}),i&&t.jsxs("div",{className:"flex gap-4 mb-2",children:[t.jsx("div",{className:"w-1/2",children:t.jsx(w,{label:"From Date",children:t.jsx(I,{type:"date",className:S("cursor-text px-3 sm:px-4 w-[100px] sm:w-[120px] text-xs sm:text-sm",!(e!=null&&e.from)&&"text-transparent"),value:e!=null&&e.from?l(e==null?void 0:e.from).format("YYYY-MM-DD"):"",onChange:s=>{const a=l(s.target.value).toDate();r(a),o({from:a,to:e!=null&&e.to&&a>e.to?a:e==null?void 0:e.to})},onClick:c,onFocus:c})})}),t.jsx("div",{className:"w-1/2",children:t.jsx(w,{label:"To Date",children:t.jsx(I,{type:"date",className:S("cursor-text px-3 sm:px-4 w-[100px] sm:w-[120px] text-xs sm:text-sm",!(e!=null&&e.to)&&"text-transparent"),value:e!=null&&e.to?l(e==null?void 0:e.to).format("YYYY-MM-DD"):"",onChange:s=>{const a=l(s.target.value).toDate();r(a),o({to:a,from:e!=null&&e.from&&a<e.from?a:e==null?void 0:e.from})},onClick:c,onFocus:c})})})]})]})},W=({initialRange:e,align:n="start",quickOptions:i,showInputs:o,onSelect:D})=>{const[r,c]=h.useState(!1),s=u=>{r||p(e),c(u===void 0?!r:u)},[a,p]=h.useState(e);return t.jsxs(L,{open:r,onOpenChange:s,children:[t.jsx(B,{asChild:!0,children:t.jsx(F,{className:"px-2",variant:e?"default":"outline",children:t.jsx(Q,{})})}),t.jsxs($,{align:n,className:"p-3 pt-1 w-fit",children:[t.jsx(k,{range:a,quickOptions:i,showInputs:o,onSelect:p}),t.jsx("div",{className:"flex mt-4",children:t.jsx("button",{onClick:()=>{D(a??{from:void 0}),s(!1)},className:"py-2 w-full bg-primary text-white rounded-md",children:"Done"})})]})]})},A=W;k.__docgenInfo={description:"",methods:[],displayName:"PickDateRange",props:{range:{required:!1,tsType:{name:"WrappedDateRange"},description:""},quickOptions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; range: DateRange }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"range",value:{name:"WrappedDateRange",required:!0}}]}}],raw:"Array<{ label: string; range: DateRange }>"},description:""},showInputs:{required:!1,tsType:{name:"boolean"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(range: DateRange | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"DateRange | undefined",elements:[{name:"WrappedDateRange"},{name:"undefined"}]},name:"range"}],return:{name:"void"}}},description:""}}};W.__docgenInfo={description:"",methods:[],displayName:"SelectDateRange",props:{initialRange:{required:!1,tsType:{name:"WrappedDateRange"},description:""},align:{required:!1,tsType:{name:"union",raw:'"center" | "start" | "end"',elements:[{name:"literal",value:'"center"'},{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"start"',computed:!1}}}};const X={title:"Components/SelectDateRange",component:A,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"Select a range of dates"}}}},R=e=>{const[n,i]=h.useState();return e.render==="picker"?t.jsx(k,{range:n,quickOptions:e.quickOptions,showInputs:e.showInputs,onSelect:i}):t.jsx(A,{initialRange:n,align:e.align,quickOptions:e.quickOptions,showInputs:e.showInputs,onSelect:i})},x=new Date().valueOf(),d=R.bind({}),m=R.bind({}),g=R.bind({}),f=R.bind({});d.args={align:"start",quickOptions:[]};m.args={align:"start",quickOptions:[{label:"Last Week",range:{from:x-864e5*7,to:x}},{label:"Last 30 Days",range:{from:x-864e5*30,to:x}}]};g.args={showInputs:!0};f.args={render:"picker"};var O,j,q;d.parameters={...d.parameters,docs:{...(O=d.parameters)==null?void 0:O.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateRange range={range} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} /> : <SelectDateRange initialRange={range} align={args.align} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} />;
}`,...(q=(j=d.parameters)==null?void 0:j.docs)==null?void 0:q.source}}};var b,N,C;m.parameters={...m.parameters,docs:{...(b=m.parameters)==null?void 0:b.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateRange range={range} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} /> : <SelectDateRange initialRange={range} align={args.align} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} />;
}`,...(C=(N=m.parameters)==null?void 0:N.docs)==null?void 0:C.source}}};var T,P,M;g.parameters={...g.parameters,docs:{...(T=g.parameters)==null?void 0:T.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateRange range={range} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} /> : <SelectDateRange initialRange={range} align={args.align} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} />;
}`,...(M=(P=g.parameters)==null?void 0:P.docs)==null?void 0:M.source}}};var _,E,Y;f.parameters={...f.parameters,docs:{...(_=f.parameters)==null?void 0:_.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateRange range={range} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} /> : <SelectDateRange initialRange={range} align={args.align} quickOptions={args.quickOptions} showInputs={args.showInputs} onSelect={setRange} />;
}`,...(Y=(E=f.parameters)==null?void 0:E.docs)==null?void 0:Y.source}}};const Z=["Basic","QuickOptions","WithInputs","Picker"];export{d as Basic,f as Picker,m as QuickOptions,g as WithInputs,Z as __namedExportsOrder,X as default};
