import{j as t}from"./jsx-runtime-Nms4Y4qS.js";import{r as R}from"./index-BwDkhjyp.js";import{a as A,b as L,B,C as F,c as Q,D as z,Q as H,d as V,E as S,L as y,e as O,I as b,f as q,g as D}from"./SelectDate-mlJzUR5E.js";import{d as n}from"./dayjs.min-BIwLhz4I.js";import{t as U}from"./timezone-BZc9ZB5V.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-Drt3gf4w.js";n.extend(U);const T=({range:e,quickOptions:o,showTimezone:c,onSelect:r})=>{var l,m;const[k,i]=R.useState(e==null?void 0:e.from);function f(s){if(s.preventDefault(),!e){const a=n().toDate(),x=n(a).subtract(7,"days").toDate();r({from:x,to:a})}}return t.jsxs(t.Fragment,{children:[o!=null&&o.length?t.jsxs("div",{className:"my-2",children:[t.jsx("div",{className:"text-sm mb-1 font-medium",children:"Quick Options"}),t.jsx("div",{className:"flex gap-3 flex-wrap",children:o.map((s,a)=>{var x,v;return t.jsx(H,{label:s.label,isSelected:(e==null?void 0:e.from)===((x=s.range)==null?void 0:x.from)&&(e==null?void 0:e.to)===((v=s.range)==null?void 0:v.to),onSelect:()=>{r(s.range),i(s.range.from)}},a)})})]}):null,t.jsx("div",{className:"mt-2 mb-4",children:t.jsx(V,{mode:"range",month:k,onMonthChange:i,selected:e,onSelect:s=>{r(s),i(s!=null&&s.to&&s.to!==s.from?n(s.to).subtract(1,"month").toDate():s==null?void 0:s.from)},numberOfMonths:2,captionLayout:"dropdown",startMonth:S,endMonth:y,hidden:{before:S,after:y},required:!1})}),t.jsxs("div",{className:"flex gap-4 mb-2",children:[t.jsx("div",{className:"w-1/2",children:t.jsx(O,{label:"From Date & Time",children:t.jsx(b,{type:"datetime-local",className:q("cursor-text px-2 sm:px-3 w-[168px] sm:w-[194px] text-xs sm:text-sm",!(e!=null&&e.from)&&"text-transparent"),value:e!=null&&e.from?n(e==null?void 0:e.from).format("YYYY-MM-DDTHH:mm"):"",onChange:s=>{const a=n(s.target.value).toDate();n(a).isValid()&&(i(a),r({from:a,to:e!=null&&e.to&&a>e.to?a:e==null?void 0:e.to}))},onMouseDown:f,onFocus:D,onClick:D})})}),t.jsx("div",{className:"w-1/2",children:t.jsx(O,{label:"To Date & Time",children:t.jsx(b,{type:"datetime-local",className:q("cursor-text px-2 sm:px-3 w-[168px] sm:w-[194px] text-xs sm:text-sm",!(e!=null&&e.to)&&"text-transparent"),value:e!=null&&e.to?n(e==null?void 0:e.to).format("YYYY-MM-DDTHH:mm"):"",onChange:s=>{const a=n(s.target.value).toDate();n(a).isValid()&&(i(a),r({to:a,from:e!=null&&e.from&&a<e.from?a:e==null?void 0:e.from}))},onMouseDown:f,onFocus:D,onClick:D})})})]}),c&&t.jsxs("div",{className:"text-xs text-gray-600 flex justify-end mb-2",children:["Time Zone: ",(m=(l=n)==null?void 0:l.tz)==null?void 0:m.guess()]})]})},h=({initialRange:e,align:o="start",quickOptions:c,showTimezone:r,onSelect:k})=>{const[i,f]=R.useState(!1),l=a=>{i||s(e),f(a===void 0?!i:a)},[m,s]=R.useState(e);return t.jsxs(A,{open:i,onOpenChange:l,children:[t.jsx(L,{asChild:!0,children:t.jsx(B,{className:"px-2",variant:e?"default":"outline",children:t.jsx(F,{})})}),t.jsxs(Q,{align:o,className:"p-3 pt-1 w-fit",children:[t.jsx(T,{range:m,quickOptions:c,showTimezone:r,onSelect:s}),t.jsx("div",{className:"flex mt-4",children:t.jsx(z,{onClick:()=>{k(m),l(!1)}})})]})]})};T.__docgenInfo={description:"",methods:[],displayName:"PickDateTimeRange",props:{range:{required:!1,tsType:{name:"InnerDateRange"},description:""},quickOptions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; range: DateRange }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"range",value:{name:"InnerDateRange",required:!0}}]}}],raw:"Array<{ label: string; range: DateRange }>"},description:""},showTimezone:{required:!1,tsType:{name:"boolean"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(range: DateRange | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"DateRange | undefined",elements:[{name:"InnerDateRange"},{name:"undefined"}]},name:"range"}],return:{name:"void"}}},description:""}}};h.__docgenInfo={description:"",methods:[],displayName:"SelectDateTimeRange",props:{initialRange:{required:!1,tsType:{name:"InnerDateRange"},description:""},align:{required:!1,tsType:{name:"union",raw:'"center" | "start" | "end"',elements:[{name:"literal",value:'"center"'},{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"start"',computed:!1}}}};const ee={title:"Components/SelectDateTimeRange",component:h,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"Select a range of dates, with times"}}}},j=e=>{const[o,c]=R.useState();return e.render==="picker"?t.jsx(T,{range:o,quickOptions:e.quickOptions,onSelect:c}):t.jsx(h,{initialRange:o,align:e.align,quickOptions:e.quickOptions,onSelect:c})},g=new Date().valueOf(),d=j.bind({}),p=j.bind({}),u=j.bind({});d.args={align:"start",quickOptions:[]};p.args={align:"start",quickOptions:[{label:"Last Week",range:{from:g-864e5*7,to:g}},{label:"Last 30 Days",range:{from:g-864e5*30,to:g}}]};u.args={render:"picker"};var w,N,C;d.parameters={...d.parameters,docs:{...(w=d.parameters)==null?void 0:w.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateTimeRange range={range} quickOptions={args.quickOptions} onSelect={setRange} /> : <SelectDateTimeRange initialRange={range} align={args.align} quickOptions={args.quickOptions} onSelect={setRange} />;
}`,...(C=(N=d.parameters)==null?void 0:N.docs)==null?void 0:C.source}}};var E,I,P;p.parameters={...p.parameters,docs:{...(E=p.parameters)==null?void 0:E.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateTimeRange range={range} quickOptions={args.quickOptions} onSelect={setRange} /> : <SelectDateTimeRange initialRange={range} align={args.align} quickOptions={args.quickOptions} onSelect={setRange} />;
}`,...(P=(I=p.parameters)==null?void 0:I.docs)==null?void 0:P.source}}};var M,_,Y;u.parameters={...u.parameters,docs:{...(M=u.parameters)==null?void 0:M.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return args["render"] === "picker" ? <PickDateTimeRange range={range} quickOptions={args.quickOptions} onSelect={setRange} /> : <SelectDateTimeRange initialRange={range} align={args.align} quickOptions={args.quickOptions} onSelect={setRange} />;
}`,...(Y=(_=u.parameters)==null?void 0:_.docs)==null?void 0:Y.source}}};const te=["Basic","QuickOptions","Picker"];export{d as Basic,u as Picker,p as QuickOptions,te as __namedExportsOrder,ee as default};
