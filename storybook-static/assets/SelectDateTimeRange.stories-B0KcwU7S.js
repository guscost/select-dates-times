import{j as t}from"./jsx-runtime-Nms4Y4qS.js";import{r as u}from"./index-BwDkhjyp.js";import{P as k,a as D,B as E,C as M,b as Y,c as z,I as T}from"./calendar_v9-DfXhlBRM.js";import{d as m,t as _}from"./timezone-C_aROZb4.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-Drt3gf4w.js";m.extend(_);const w=new Date(1900,0,1),b=new Date(2199,11,31),I=({range:a,quickOptions:n,showTimezone:l,immediate:x,onSelect:d})=>{var h,g;const i=new Date,[e,p]=u.useState({from:a?a.from:new Date(i.valueOf()-864e5*7),to:a?a.to:i}),o=s=>{s&&(p(s),x&&d(s))};return t.jsxs(t.Fragment,{children:[n!=null&&n.length?t.jsxs("div",{className:"mt-2 mb-4",children:[t.jsx("div",{className:"text-sm mb-1 font-medium",children:"Quick Options"}),t.jsx("div",{className:"flex gap-3 flex-wrap",children:n.map((s,r)=>{var j,v;return t.jsx("div",{className:`text-xs sm:text-sm font-medium cursor-pointer ${(e==null?void 0:e.from)===((j=s.range)==null?void 0:j.from)&&(e==null?void 0:e.to)===((v=s.range)==null?void 0:v.to)?"text-gray-600":"text-gray-400 hover:text-gray-500"}`,onClick:()=>o(s.range),children:s.label},r)})})]}):null,t.jsx("div",{className:"mb-4",children:t.jsx(z,{mode:"range",defaultMonth:e==null?void 0:e.from,selected:e,onSelect:o,numberOfMonths:2,captionLayout:"dropdown",startMonth:w,endMonth:b,hidden:{before:w,after:b}})}),t.jsxs("div",{className:"flex gap-4 mb-2",children:[t.jsxs("div",{className:"w-1/2",children:[t.jsx("label",{className:"block font-medium pb-1 text-sm",children:"From Date & Time"}),t.jsx("div",{className:"flex align-center gap-1",children:t.jsx(T,{type:"datetime-local",className:"cursor-text px-2.5 sm:px-3.5 w-[168px] sm:w-[194px] text-xs sm:text-sm",value:(e==null?void 0:e.from)??{}?m(e==null?void 0:e.from).format("YYYY-MM-DDTHH:mm"):"",onChange:s=>{const r=m(s.target.value).toDate();o({from:r,to:e!=null&&e.to&&r>e.to?r:e==null?void 0:e.to})}})})]}),t.jsxs("div",{className:"w-1/2",children:[t.jsx("label",{className:"block font-medium pb-1 text-sm",children:"To Date & Time"}),t.jsx("div",{className:"flex align-center gap-1",children:t.jsx(T,{type:"datetime-local",className:"cursor-text px-2.5 sm:px-3.5 w-[168px] sm:w-[194px] text-xs sm:text-sm",value:(e==null?void 0:e.to)??""?m(e==null?void 0:e.to).format("YYYY-MM-DDTHH:mm"):"",onChange:s=>{const r=m(s.target.value).toDate();o({to:r,from:e!=null&&e.from&&r<e.from?r:e==null?void 0:e.from})}})})]})]}),l&&t.jsxs("div",{className:"text-xs text-gray-600 flex justify-end mb-2",children:["Time Zone: ",(g=(h=m)==null?void 0:h.tz)==null?void 0:g.guess()]}),!x&&t.jsx("div",{className:"flex mt-4",children:t.jsx("button",{onClick:()=>d(e??{from:void 0}),className:"py-2 w-full bg-primary text-white rounded-md",children:"Done"})})]})},C=({range:a,quickOptions:n,showTimezone:l,onSelect:x,align:d="start"})=>{const[i,e]=u.useState(!1),p=o=>{e(o===void 0?!i:o)};return t.jsxs(k,{open:i,onOpenChange:()=>p(),children:[t.jsx(D,{asChild:!0,children:t.jsx(E,{className:"px-2",variant:a?"default":"outline",children:t.jsx(M,{})})}),t.jsx(Y,{align:d,className:"p-3 pt-1 w-fit",children:t.jsx(I,{range:a,quickOptions:n,showTimezone:l,onSelect:o=>{p(!1),x(o)}})})]})},O=C;C.__docgenInfo={description:"",methods:[],displayName:"SelectDateTimeRange",props:{align:{required:!1,tsType:{name:"union",raw:'"center" | "start" | "end"',elements:[{name:"literal",value:'"center"'},{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"start"',computed:!1}}}};const q={title:"Components/SelectDateTimeRange",component:O,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"Picker to select or filter a range of dates, with times"}}}},P=a=>{const[n,l]=u.useState();return t.jsx(O,{range:n,align:a.align,quickOptions:a.quickOptions,showTimezone:a.showTimezone,onSelect:l})},c=P.bind({}),f=new Date().valueOf();c.args={align:"start",quickOptions:[{label:"Last Week",range:{from:f-864e5*7,to:f}},{label:"Last 30 Days",range:{from:f-864e5*30,to:f}}],showTimezone:!1};var N,S,y;c.parameters={...c.parameters,docs:{...(N=c.parameters)==null?void 0:N.docs,source:{originalSource:`args => {
  const [range, setRange] = useState<DateRange>();
  return <SelectDateTimeRange range={range} align={args.align} quickOptions={args.quickOptions} showTimezone={args.showTimezone} onSelect={setRange} />;
}`,...(y=(S=c.parameters)==null?void 0:S.docs)==null?void 0:y.source}}};const Q=["Default"];export{c as Default,Q as __namedExportsOrder,q as default};
