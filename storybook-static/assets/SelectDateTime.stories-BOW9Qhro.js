import{j as e}from"./jsx-runtime-Nms4Y4qS.js";import{r as T}from"./index-BwDkhjyp.js";import{a as E,b as I,B as M,C as B,c as Y,d as L,e as Q,I as F,f as H}from"./SelectDate-GNDbaWzh.js";import{d as p}from"./dayjs.min-BIwLhz4I.js";import{t as R}from"./timezone-BZc9ZB5V.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-Drt3gf4w.js";p.extend(R);const y=new Date(1900,0,1),v=new Date(2199,11,31),D=({timestamp:t,quickOptions:s,numberOfMonths:n,showTimezone:x,required:f=!1,onSelect:a})=>{var c,l;const[h,r]=T.useState(t);function o(i){if(i.preventDefault(),!t){const m=p().toDate();a(m)}}return e.jsxs(e.Fragment,{children:[s!=null&&s.length?e.jsxs("div",{className:"my-2",children:[e.jsx("div",{className:"text-sm mb-1 font-medium",children:"Quick Options"}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:s.map((i,m)=>e.jsx("div",{className:`text-xs sm:text-sm font-medium cursor-pointer ${t===i.timestamp?"text-gray-600":"text-gray-400 hover:text-gray-500"}`,onClick:()=>{a(i.timestamp),r(i.timestamp)},children:i.label},m))})]}):null,e.jsx("div",{className:"mt-2 mb-4",children:e.jsx(L,{mode:"single",month:h,onMonthChange:r,selected:t,onSelect:a,numberOfMonths:n||1,captionLayout:"dropdown",startMonth:y,endMonth:v,hidden:{before:y,after:v},required:f})}),e.jsx("div",{className:"flex gap-4 mb-2",children:e.jsx("div",{className:"w-full",children:e.jsx(Q,{label:"Date & Time",children:e.jsx(F,{type:"datetime-local",className:H("cursor-text px-3 sm:px-4 w-[168px] sm:w-[194px] text-xs sm:text-sm",!t&&"text-transparent"),value:t?p(t).format("YYYY-MM-DDTHH:mm"):"",onChange:i=>{const m=p(i.target.value).toDate();r(m),a(m)},onClick:o,onFocus:o})})})}),x&&e.jsxs("div",{className:"text-xs text-gray-600 flex justify-end mb-2",children:["Time Zone: ",(l=(c=p)==null?void 0:c.tz)==null?void 0:l.guess()]})]})},_=({initialTimestamp:t,align:s="start",quickOptions:n,showTimezone:x,onSelect:f})=>{const[a,h]=T.useState(!1),[r,o]=T.useState(t),c=l=>{a||o(t),h(l===void 0?!a:l)};return e.jsxs(E,{open:a,onOpenChange:c,children:[e.jsx(I,{asChild:!0,children:e.jsx(M,{className:"px-2",variant:t?"default":"outline",children:e.jsx(B,{})})}),e.jsxs(Y,{align:s,className:"p-3 pt-1 w-fit",children:[e.jsx(D,{timestamp:r,quickOptions:n,showTimezone:x,onSelect:o}),e.jsx("div",{className:"flex mt-4",children:e.jsx("button",{onClick:()=>{f(r),c(!1)},className:"py-2 w-full bg-primary text-white rounded-md",children:"Done"})})]})]})},A=_;D.__docgenInfo={description:"",methods:[],displayName:"PickDateTime",props:{timestamp:{required:!1,tsType:{name:"Date"},description:""},quickOptions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; timestamp: Date }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"timestamp",value:{name:"Date",required:!0}}]}}],raw:"Array<{ label: string; timestamp: Date }>"},description:""},numberOfMonths:{required:!1,tsType:{name:"union",raw:"1 | 2",elements:[{name:"literal",value:"1"},{name:"literal",value:"2"}]},description:""},showTimezone:{required:!1,tsType:{name:"boolean"},description:""},required:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(datetime: Date | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]},name:"datetime"}],return:{name:"void"}}},description:""}}};_.__docgenInfo={description:"",methods:[],displayName:"SelectDateTime",props:{initialTimestamp:{required:!1,tsType:{name:"Date"},description:""},align:{required:!1,tsType:{name:"union",raw:'"center" | "start" | "end"',elements:[{name:"literal",value:'"center"'},{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"start"',computed:!1}}}};const W={title:"Components/SelectDateTime",component:A,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"Select a date with time"}}}},k=t=>{const[s,n]=T.useState();return t.render==="picker"?e.jsx(D,{timestamp:s,quickOptions:t.quickOptions,onSelect:n}):e.jsx(A,{initialTimestamp:s,align:t.align,quickOptions:t.quickOptions,showTimezone:t.showTimezone,onSelect:n})},w=new Date().valueOf(),d=k.bind({}),u=k.bind({}),g=k.bind({});d.args={align:"start",quickOptions:[]};u.args={align:"start",quickOptions:[{label:"7 Days Ago",timestamp:w-864e5*7},{label:"30 Days Ago",timestamp:w-864e5*30}],showTimezone:!1};g.args={render:"picker"};var S,j,q;d.parameters={...d.parameters,docs:{...(S=d.parameters)==null?void 0:S.docs,source:{originalSource:`args => {
  const [timestamp, setTimestamp] = useState<Date>();
  return args["render"] === "picker" ? <PickDateTime timestamp={timestamp} quickOptions={args.quickOptions} onSelect={setTimestamp} /> : <SelectDateTime initialTimestamp={timestamp} align={args.align} quickOptions={args.quickOptions} showTimezone={args.showTimezone} onSelect={setTimestamp} />;
}`,...(q=(j=d.parameters)==null?void 0:j.docs)==null?void 0:q.source}}};var O,b,N;u.parameters={...u.parameters,docs:{...(O=u.parameters)==null?void 0:O.docs,source:{originalSource:`args => {
  const [timestamp, setTimestamp] = useState<Date>();
  return args["render"] === "picker" ? <PickDateTime timestamp={timestamp} quickOptions={args.quickOptions} onSelect={setTimestamp} /> : <SelectDateTime initialTimestamp={timestamp} align={args.align} quickOptions={args.quickOptions} showTimezone={args.showTimezone} onSelect={setTimestamp} />;
}`,...(N=(b=u.parameters)==null?void 0:b.docs)==null?void 0:N.source}}};var z,C,P;g.parameters={...g.parameters,docs:{...(z=g.parameters)==null?void 0:z.docs,source:{originalSource:`args => {
  const [timestamp, setTimestamp] = useState<Date>();
  return args["render"] === "picker" ? <PickDateTime timestamp={timestamp} quickOptions={args.quickOptions} onSelect={setTimestamp} /> : <SelectDateTime initialTimestamp={timestamp} align={args.align} quickOptions={args.quickOptions} showTimezone={args.showTimezone} onSelect={setTimestamp} />;
}`,...(P=(C=g.parameters)==null?void 0:C.docs)==null?void 0:P.source}}};const X=["Basic","QuickOptions","Picker"];export{d as Basic,g as Picker,u as QuickOptions,X as __namedExportsOrder,W as default};
